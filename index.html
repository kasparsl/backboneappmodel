<!DOCTYPE html>
<html>
	<head>
		<title>Backbone test APP</title>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.0/backbone-min.js"></script>
	
	</head>
	<body>
		<div id="user_container"></div>
			<script>
				User = Backbone.Model.extend({
						initialize:function(){
								console.log('Backbone user model has been initialized');
								//event handler  - handle all property changes
								this.on('change', function(){
										alert('user info has been updated!');
								});
									
								//handle only email changes
								this.on('change:email', function(){
										alert('user email has been updated!');
										
								});
						},
						defaults: {
								username: "maryano",
								email: "maryano34234@gmail.com"
						},
						getUserEmail: function(){
							return this.get('email');
							
						},
						getUsername: function(){
							return this.get('username');
							
						},

						changeUserEmail: function(newEmail){
								this.set({email: newEmail});
						
						},
						changeUsername: function(newUsername){
								this.set({username: newUsername});
						
						}
						
								
				});
				var user = new User();
				console.log(user.get('username'));
				//using accessor function
				console.log(user.getUserEmail());
				
				//init user object with non-default values
				kaspars = new User({username: "Kasparsg", email: "kasparsg@gmail.com"});
				
				console.log (kaspars.getUserEmail());
				
				kaspars.changeUserEmail('kasparsgggg@yahoo.com');
				console.log (kaspars.getUserEmail());
				
				kaspars.changeUsername('kaspars2gg');
				
				console.log("New username : " + kaspars.getUsername());
				/*expected browser console output:
				Backbone user model has been initialized (index):15
				maryano (index):52
				maryano34234@gmail.com (index):54
				Backbone user model has been initialized (index):15
				kasparsg@gmail.com (index):59
				kasparsgggg@yahoo.com (index):62
				New username : kaspars2g 
				*/
				
			</script>
		
		
		Hi There, Again!
		
	</body>

</html>
